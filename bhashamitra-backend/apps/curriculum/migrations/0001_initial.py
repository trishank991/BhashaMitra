# Generated by Django 5.2.9 on 2025-12-09 06:15

import django.core.validators
import django.db.models.deletion
import django.utils.timezone
import uuid
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ('children', '0001_initial'),
    ]

    operations = [
        migrations.CreateModel(
            name='AlphabetCategory',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('name', models.CharField(max_length=50)),
                ('name_native', models.CharField(blank=True, max_length=100)),
                ('category_type', models.CharField(choices=[('VOWEL', 'Vowel'), ('CONSONANT', 'Consonant'), ('MATRA', 'Matra (Vowel Mark)'), ('CONJUNCT', 'Conjunct'), ('NUMBER', 'Number'), ('SPECIAL', 'Special Character')], max_length=20)),
                ('description', models.TextField(blank=True)),
                ('order', models.IntegerField(default=0)),
            ],
            options={
                'db_table': 'alphabet_categories',
                'ordering': ['order'],
            },
        ),
        migrations.CreateModel(
            name='Game',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('name', models.CharField(max_length=100)),
                ('description', models.TextField()),
                ('instructions', models.TextField()),
                ('game_type', models.CharField(choices=[('MEMORY', 'Memory Match'), ('WORDSEARCH', 'Word Search'), ('HANGMAN', 'Hangman'), ('QUIZ', 'Quiz Challenge'), ('DRAGDROP', 'Drag and Drop'), ('LISTENING', 'Listening Challenge'), ('SPEED', 'Speed Round'), ('BUILDER', 'Word Builder'), ('JUMBLE', 'Sentence Jumble'), ('PICTURE', 'Picture Match')], max_length=20)),
                ('skill_focus', models.CharField(choices=[('ALPHABET', 'Alphabet Recognition'), ('VOCAB', 'Vocabulary'), ('GRAMMAR', 'Grammar'), ('LISTENING', 'Listening'), ('READING', 'Reading'), ('SPELLING', 'Spelling'), ('MIXED', 'Mixed Skills')], max_length=20)),
                ('language', models.CharField(choices=[('HINDI', 'Hindi'), ('TAMIL', 'Tamil'), ('GUJARATI', 'Gujarati'), ('PUNJABI', 'Punjabi'), ('TELUGU', 'Telugu'), ('MALAYALAM', 'Malayalam')], max_length=20)),
                ('level', models.IntegerField(validators=[django.core.validators.MinValueValidator(1), django.core.validators.MaxValueValidator(5)])),
                ('duration_seconds', models.IntegerField(default=300)),
                ('questions_per_round', models.IntegerField(default=10)),
                ('lives', models.IntegerField(default=3)),
                ('points_per_correct', models.IntegerField(default=10)),
                ('bonus_completion', models.IntegerField(default=50)),
                ('is_premium', models.BooleanField(default=False)),
                ('is_active', models.BooleanField(default=True)),
            ],
            options={
                'db_table': 'games',
                'ordering': ['level', 'name'],
            },
        ),
        migrations.CreateModel(
            name='GrammarRule',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('title', models.CharField(max_length=300)),
                ('explanation', models.TextField()),
                ('explanation_simple', models.TextField(blank=True)),
                ('formula', models.CharField(blank=True, max_length=500)),
                ('examples', models.JSONField(default=list)),
                ('exceptions', models.JSONField(default=list)),
                ('tips', models.TextField(blank=True)),
                ('order', models.IntegerField(default=0)),
            ],
            options={
                'db_table': 'grammar_rules',
                'ordering': ['order'],
            },
        ),
        migrations.CreateModel(
            name='Script',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('language', models.CharField(choices=[('HINDI', 'Hindi'), ('TAMIL', 'Tamil'), ('GUJARATI', 'Gujarati'), ('PUNJABI', 'Punjabi'), ('TELUGU', 'Telugu'), ('MALAYALAM', 'Malayalam')], max_length=20, unique=True)),
                ('name', models.CharField(max_length=50)),
                ('name_native', models.CharField(max_length=100)),
                ('description', models.TextField()),
                ('total_letters', models.IntegerField(default=0)),
            ],
            options={
                'db_table': 'scripts',
            },
        ),
        migrations.CreateModel(
            name='Assessment',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('name', models.CharField(max_length=200)),
                ('description', models.TextField()),
                ('assessment_type', models.CharField(choices=[('PLACEMENT', 'Placement Test'), ('LEVEL_UP', 'Level-Up Test'), ('MODULE', 'Module Completion'), ('SKILL', 'Skill Assessment'), ('PRACTICE', 'Practice Test')], max_length=20)),
                ('language', models.CharField(choices=[('HINDI', 'Hindi'), ('TAMIL', 'Tamil'), ('GUJARATI', 'Gujarati'), ('PUNJABI', 'Punjabi'), ('TELUGU', 'Telugu'), ('MALAYALAM', 'Malayalam')], max_length=20)),
                ('level', models.IntegerField(validators=[django.core.validators.MinValueValidator(1), django.core.validators.MaxValueValidator(5)])),
                ('passing_score', models.IntegerField(default=70)),
                ('time_limit_minutes', models.IntegerField(default=30)),
                ('questions_count', models.IntegerField(default=20)),
                ('randomize_questions', models.BooleanField(default=True)),
                ('show_correct_answers', models.BooleanField(default=True)),
                ('allow_retake', models.BooleanField(default=True)),
                ('retake_cooldown_hours', models.IntegerField(default=24)),
                ('required_level', models.IntegerField(blank=True, null=True)),
                ('is_active', models.BooleanField(default=True)),
                ('prerequisite_assessment', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='curriculum.assessment')),
            ],
            options={
                'db_table': 'assessments',
                'ordering': ['level', 'name'],
            },
        ),
        migrations.CreateModel(
            name='AssessmentAttempt',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('score', models.IntegerField(default=0)),
                ('max_score', models.IntegerField(default=0)),
                ('percentage', models.FloatField(default=0)),
                ('passed', models.BooleanField(default=False)),
                ('started_at', models.DateTimeField(auto_now_add=True)),
                ('completed_at', models.DateTimeField(blank=True, null=True)),
                ('time_taken_seconds', models.IntegerField(default=0)),
                ('answers', models.JSONField(default=dict)),
                ('skill_breakdown', models.JSONField(default=dict)),
                ('assessment', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='attempts', to='curriculum.assessment')),
                ('child', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='assessment_attempts', to='children.child')),
            ],
            options={
                'db_table': 'assessment_attempts',
                'ordering': ['-started_at'],
            },
        ),
        migrations.CreateModel(
            name='AssessmentQuestion',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('question_type', models.CharField(choices=[('MC', 'Multiple Choice'), ('TF', 'True/False'), ('FB', 'Fill in the Blank'), ('MA', 'Matching'), ('RO', 'Reorder'), ('LI', 'Listening')], max_length=20)),
                ('skill_tested', models.CharField(choices=[('READING', 'Reading'), ('WRITING', 'Writing'), ('LISTENING', 'Listening'), ('GRAMMAR', 'Grammar'), ('VOCABULARY', 'Vocabulary'), ('ALPHABET', 'Alphabet')], max_length=20)),
                ('question_text', models.TextField()),
                ('correct_answer', models.TextField()),
                ('acceptable_answers', models.JSONField(default=list)),
                ('options', models.JSONField(default=list)),
                ('points', models.IntegerField(default=5)),
                ('explanation', models.TextField(blank=True)),
                ('order', models.IntegerField(default=0)),
                ('assessment', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='questions', to='curriculum.assessment')),
            ],
            options={
                'db_table': 'assessment_questions',
                'ordering': ['order'],
            },
        ),
        migrations.CreateModel(
            name='Certificate',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('certificate_id', models.CharField(editable=False, max_length=20, unique=True)),
                ('certificate_type', models.CharField(choices=[('LEVEL', 'Level Completion'), ('MODULE', 'Module Completion'), ('ACHIEVEMENT', 'Achievement')], max_length=20)),
                ('title', models.CharField(max_length=200)),
                ('description', models.TextField()),
                ('language', models.CharField(choices=[('HINDI', 'Hindi'), ('TAMIL', 'Tamil'), ('GUJARATI', 'Gujarati'), ('PUNJABI', 'Punjabi'), ('TELUGU', 'Telugu'), ('MALAYALAM', 'Malayalam')], max_length=20)),
                ('level', models.IntegerField(blank=True, null=True)),
                ('issued_at', models.DateTimeField(auto_now_add=True)),
                ('pdf_url', models.URLField(blank=True, null=True)),
                ('assessment_attempt', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='curriculum.assessmentattempt')),
                ('child', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='certificates', to='children.child')),
            ],
            options={
                'db_table': 'certificates',
                'ordering': ['-issued_at'],
            },
        ),
        migrations.CreateModel(
            name='GameSession',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('score', models.IntegerField(default=0)),
                ('questions_attempted', models.IntegerField(default=0)),
                ('questions_correct', models.IntegerField(default=0)),
                ('time_taken_seconds', models.IntegerField(default=0)),
                ('completed', models.BooleanField(default=False)),
                ('lives_remaining', models.IntegerField(default=0)),
                ('points_earned', models.IntegerField(default=0)),
                ('child', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='game_sessions', to='children.child')),
                ('game', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='sessions', to='curriculum.game')),
            ],
            options={
                'db_table': 'game_sessions',
            },
        ),
        migrations.CreateModel(
            name='GrammarExercise',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('exercise_type', models.CharField(choices=[('FILL_BLANK', 'Fill in the Blank'), ('MC', 'Multiple Choice'), ('REORDER', 'Reorder Words'), ('TRANSLATE', 'Translate'), ('ERROR', 'Find the Error'), ('CONJUGATE', 'Conjugate Verb'), ('MATCH', 'Matching'), ('TF', 'True/False')], max_length=20)),
                ('question', models.TextField()),
                ('correct_answer', models.TextField()),
                ('acceptable_answers', models.JSONField(default=list)),
                ('options', models.JSONField(default=list)),
                ('hint', models.TextField(blank=True)),
                ('explanation', models.TextField(blank=True)),
                ('difficulty', models.IntegerField(default=1)),
                ('points', models.IntegerField(default=10)),
                ('order', models.IntegerField(default=0)),
                ('rule', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='exercises', to='curriculum.grammarrule')),
            ],
            options={
                'db_table': 'grammar_exercises',
                'ordering': ['order'],
            },
        ),
        migrations.CreateModel(
            name='GrammarTopic',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('language', models.CharField(choices=[('HINDI', 'Hindi'), ('TAMIL', 'Tamil'), ('GUJARATI', 'Gujarati'), ('PUNJABI', 'Punjabi'), ('TELUGU', 'Telugu'), ('MALAYALAM', 'Malayalam')], max_length=20)),
                ('name', models.CharField(max_length=200)),
                ('name_native', models.CharField(blank=True, max_length=200)),
                ('description', models.TextField()),
                ('description_simple', models.TextField(blank=True)),
                ('level', models.IntegerField(validators=[django.core.validators.MinValueValidator(1), django.core.validators.MaxValueValidator(5)])),
                ('order', models.IntegerField(default=0)),
                ('is_active', models.BooleanField(default=True)),
                ('prerequisites', models.ManyToManyField(blank=True, to='curriculum.grammartopic')),
            ],
            options={
                'db_table': 'grammar_topics',
                'ordering': ['level', 'order'],
            },
        ),
        migrations.AddField(
            model_name='grammarrule',
            name='topic',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='rules', to='curriculum.grammartopic'),
        ),
        migrations.CreateModel(
            name='Letter',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('character', models.CharField(max_length=10)),
                ('romanization', models.CharField(max_length=20)),
                ('ipa', models.CharField(blank=True, max_length=50)),
                ('pronunciation_guide', models.TextField(blank=True)),
                ('audio_url', models.URLField(blank=True, null=True)),
                ('stroke_order_url', models.URLField(blank=True, null=True)),
                ('example_word', models.CharField(blank=True, max_length=100)),
                ('example_word_romanization', models.CharField(blank=True, max_length=100)),
                ('example_word_translation', models.CharField(blank=True, max_length=200)),
                ('order', models.IntegerField(default=0)),
                ('is_active', models.BooleanField(default=True)),
                ('category', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='letters', to='curriculum.alphabetcategory')),
            ],
            options={
                'db_table': 'letters',
                'ordering': ['order'],
                'unique_together': {('category', 'character')},
            },
        ),
        migrations.CreateModel(
            name='Matra',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('symbol', models.CharField(max_length=10)),
                ('name', models.CharField(max_length=50)),
                ('example_with_ka', models.CharField(max_length=20)),
                ('audio_url', models.URLField(blank=True, null=True)),
                ('order', models.IntegerField(default=0)),
                ('script', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='matras', to='curriculum.script')),
            ],
            options={
                'db_table': 'matras',
                'ordering': ['order'],
            },
        ),
        migrations.AddField(
            model_name='alphabetcategory',
            name='script',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='categories', to='curriculum.script'),
        ),
        migrations.CreateModel(
            name='VocabularyTheme',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('language', models.CharField(choices=[('HINDI', 'Hindi'), ('TAMIL', 'Tamil'), ('GUJARATI', 'Gujarati'), ('PUNJABI', 'Punjabi'), ('TELUGU', 'Telugu'), ('MALAYALAM', 'Malayalam')], max_length=20)),
                ('name', models.CharField(max_length=100)),
                ('name_native', models.CharField(max_length=100)),
                ('description', models.TextField(blank=True)),
                ('icon', models.CharField(blank=True, max_length=50)),
                ('level', models.IntegerField(validators=[django.core.validators.MinValueValidator(1), django.core.validators.MaxValueValidator(5)])),
                ('order', models.IntegerField(default=0)),
                ('is_premium', models.BooleanField(default=False)),
                ('is_active', models.BooleanField(default=True)),
            ],
            options={
                'db_table': 'vocabulary_themes',
                'ordering': ['level', 'order'],
                'unique_together': {('language', 'name')},
            },
        ),
        migrations.CreateModel(
            name='VocabularyWord',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('word', models.CharField(max_length=200)),
                ('romanization', models.CharField(max_length=200)),
                ('translation', models.CharField(max_length=200)),
                ('part_of_speech', models.CharField(choices=[('NOUN', 'Noun'), ('VERB', 'Verb'), ('ADJECTIVE', 'Adjective'), ('ADVERB', 'Adverb'), ('PRONOUN', 'Pronoun'), ('NUMBER', 'Number'), ('OTHER', 'Other')], default='NOUN', max_length=20)),
                ('gender', models.CharField(choices=[('M', 'Masculine'), ('F', 'Feminine'), ('N', 'Neuter'), ('NONE', 'Not Applicable')], default='NONE', max_length=10)),
                ('pronunciation_audio_url', models.URLField(blank=True, null=True)),
                ('image_url', models.URLField(blank=True, null=True)),
                ('example_sentence', models.TextField(blank=True)),
                ('difficulty', models.IntegerField(default=1)),
                ('order', models.IntegerField(default=0)),
                ('theme', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='words', to='curriculum.vocabularytheme')),
            ],
            options={
                'db_table': 'vocabulary_words',
                'ordering': ['order'],
                'unique_together': {('theme', 'word')},
            },
        ),
        migrations.CreateModel(
            name='GameLeaderboard',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('high_score', models.IntegerField(default=0)),
                ('best_accuracy', models.FloatField(default=0)),
                ('games_played', models.IntegerField(default=0)),
                ('child', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='leaderboard_entries', to='children.child')),
                ('game', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='leaderboard', to='curriculum.game')),
            ],
            options={
                'db_table': 'game_leaderboard',
                'ordering': ['-high_score'],
                'unique_together': {('game', 'child')},
            },
        ),
        migrations.CreateModel(
            name='GrammarProgress',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('exercises_attempted', models.IntegerField(default=0)),
                ('exercises_correct', models.IntegerField(default=0)),
                ('mastered', models.BooleanField(default=False)),
                ('mastered_at', models.DateTimeField(blank=True, null=True)),
                ('child', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='grammar_progress', to='children.child')),
                ('topic', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='progress_records', to='curriculum.grammartopic')),
            ],
            options={
                'db_table': 'grammar_progress',
                'unique_together': {('child', 'topic')},
            },
        ),
        migrations.CreateModel(
            name='LetterProgress',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('recognition_score', models.IntegerField(default=0)),
                ('listening_score', models.IntegerField(default=0)),
                ('tracing_score', models.IntegerField(default=0)),
                ('writing_score', models.IntegerField(default=0)),
                ('pronunciation_score', models.IntegerField(default=0)),
                ('times_practiced', models.IntegerField(default=0)),
                ('mastered', models.BooleanField(default=False)),
                ('mastered_at', models.DateTimeField(blank=True, null=True)),
                ('child', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='letter_progress', to='children.child')),
                ('letter', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='progress_records', to='curriculum.letter')),
            ],
            options={
                'db_table': 'letter_progress',
                'unique_together': {('child', 'letter')},
            },
        ),
        migrations.AlterUniqueTogether(
            name='alphabetcategory',
            unique_together={('script', 'category_type')},
        ),
        migrations.CreateModel(
            name='WordProgress',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('ease_factor', models.FloatField(default=2.5)),
                ('interval_days', models.IntegerField(default=1)),
                ('repetitions', models.IntegerField(default=0)),
                ('next_review', models.DateTimeField(default=django.utils.timezone.now)),
                ('last_reviewed', models.DateTimeField(blank=True, null=True)),
                ('times_reviewed', models.IntegerField(default=0)),
                ('times_correct', models.IntegerField(default=0)),
                ('mastered', models.BooleanField(default=False)),
                ('mastered_at', models.DateTimeField(blank=True, null=True)),
                ('child', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='word_progress', to='children.child')),
                ('word', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='progress_records', to='curriculum.vocabularyword')),
            ],
            options={
                'db_table': 'word_progress',
                'unique_together': {('child', 'word')},
            },
        ),
    ]
